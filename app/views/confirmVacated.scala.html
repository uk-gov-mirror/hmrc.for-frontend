@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import models._
@import models.serviceContracts.submissions._
@import models.pages._
@import play.api.data._
@import _root_.template.Helper._
@import helpers._
@import models.pages.Summary
@import org.joda.time.DateTime
@import _root_.template.FormatRefNum
@import config.ForConfig

@(theForm: Form[_], referenceNumber: String, email: Option[String], summary: Summary)(implicit requestHeader: RequestHeader,  messages: Messages)

@headExtra = {
  @views.html.includes.stylesheets()
  @views.html.includes.analytics(ForConfig.gtm, ForConfig.analytics.ga.startDate, ForConfig.analytics.ga.returnCount, ForConfig.analytics.ga.refNum, summary)
}

@bodyEnd = {
    @views.html.includes.javascripts()
}

@main(title=Messages("label.confirm.heading") + " - " + Messages("project.name"), headExtra=headExtra, bodyEnd=bodyEnd, showBackButton=false, showAccountInfo=false, theForm = Some(theForm)) {

    
  <main id="content">
  <div class="grid-row">
    <div class="column-two-thirds">

      <h1 class="form-title heading-large heading-confirmation">
        <span class="tick">&#10004;</span> @Messages("label.confirm.heading")
        <div class="summary-actions">
          <a href="@routes.Application.pdf" class="confirm-download-link" role="button" target="_blank">@Messages("label.button.download")</a>
        </div>
      </h1>

       <h2 class="heading-medium">@Messages("label.whatNext")</h2>

        <ul class="list-bullet">
          <li>@Messages("label.weMayContactYou")</li>
          <li>@Messages("label.anyQuestions") <a href="mailto:formhelp@@voa.gsi.gov.uk">formhelp@@voa.gsi.gov.uk</a> @Messages("label.quoteRefNum", FormatRefNum(summary.referenceNumber))</li>
        </ul>

        <p><a href="@routes.Application.index">@Messages("label.submitAnotherForm")</a></p>
        
        <hr />
        
        <div class="clearfix"><br /></div>

        @form(action = feedback.routes.Survey.formCompleteFeedback, args = 'class -> "satisfactionSurvey", 'id -> "myFormId") {

          @helper.CSRF.formField
  
        @includes.errors(theForm, isAgent = false)

          @textarea(
            field = theForm("details"),
            '_label -> Messages("label.satisfactionSurveyComments"),
            '_labelClass -> "form-label-bold",
            'class -> "form-control input-extra-large",
            '_fieldsetClass -> "form-group",
            Symbol("rows") -> "8",
            '_optional -> true
          )

          <p>@Messages("text.survey.bottomCopy")</p>

          <p>
            <button type="submit" id="continue" name="continue_button" value="continue_button" class="button">
              @Messages("button.label.submit")
            </button>
          </p>
        

        <div class="clearfix"></div>
    </div>
    <div class="column-third"></div>
  </div>
 </main>
    
    @includes.continueButtonStickyFooter()
    
    }
}